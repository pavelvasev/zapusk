Синтаксис
=========

Запуск-программа записывается в форме каталога вида `имя.zdb`, содержащем 1 или более файлов расширением `ini`.

Каталог может содержать и другие файлы и подкаталоги, для интерпретатора это значение не имеет.

Интерпретатор упорядочивает и считывает все файлы *.ini, находящиеся на первом уровне каталога программы, 
объединяет их в общее содержимое, и анализирует.

Синтаксис содержимого - это набор компонент, обозначаемых заголовками 
в формате `###### component-name ######` (требуется не менее 3х символов `#`), 
и далее у каждой компоненты задаётся перечень её шагов в формате ini.
Каждый шаг обозначается своей `[секцией]`.

Пример кода:
```
################## params #####################
alfa=5
beta=8

################## comp1 ######################
[info]
apply=Performing deeds with alfa={{alfa}}

[os]
apply=echo {{alfa}} > {{beta}}.conf
destroy=rm -f {{beta}}.conf

################## comp2 ######################
[os]
apply=/etc/init.d/nginx start
restart=/etc/init.d/nginx restart
```

Здесь:
* `######### params ########` это обозначение для набора параметров программы.
* alfa, beta - параметры программы
* `##### comp1 #####` и `####### comp2 ######` - компоненты и их идентификаторы.
* `[info]` и `[os]` - шаги компонент.
* apply, destroy, restart - параметры шагов.

Вышеуказанная программа содержит описание параметров программы и 2 компоненты (comp1 и comp2).
Компонента comp1 содержит 2 шага - `[info]` и `[os]`. Компонента comp2 содержит 1 шаг - только `[os]`.

Выполнение данной программы с командой apply повлечет три действия:
1. Печать на экран сообщения **Performing deeds with alfa=5**
2. Выполнение команды **echo 5 > 8.conf**.
3. Выполнение команды **/etc/init.d/nginx start**

Выполнение данной программы с командой restart повлечет одно действие:
1. Выполнение команды **/etc/init.d/nginx restart**

## Вычисление значений параметров
Значения параметров - строковые. Они интерполируются:

* {\`some command\`} - выполнить shell-команду some command и вставить ее stdout. Этот вид вычисления выполняется после выполнения всех вычислений вида {{name}}.
* {{name}} - вставить значение параметра name.

Порядок поиска параметров (где первым нашли то и используется):
1. Параметры запуск-программы.
2. Параметры текущей компоненты.
3. Параметры zapusk.conf
4. Специальные параметры.
5. Глобальные параметры (zapusk.global.conf).
6. Параметры по умолчанию (zapusk.tool-defaults.conf).

Если параметр не находится, это вызывает ошибку и запуск-программа останавливается.

Если значение параметра не указывается, оно полагается равным true.
Дальше это может использоваться в зависимости от контекста.

